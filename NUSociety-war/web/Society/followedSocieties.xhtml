<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/Template/defaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui">	

    <ui:define name="content">
        
        <h3>My Followed Societies</h3>
        
        <h:form>
            
            <p:dataGrid var="society" value="#{societyManagementManagedBean.followedSocieties}" columns="3" layout="grid"
                rows="12" paginator="true" id="dataGridAllSocieties" 
                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                rowsPerPageTemplate="6,12,16">

                <p:panel header="#{society.name}" style="text-align:center">
                    <h:panelGrid columns="1" style="width:100%">
                        <p:graphicImage value="#{FacesContext.getCurrentInstance().getExternalContext()}/resources/Images/#{society.profilePicture}" width="300px" height="300px"/> 

                        <ui:repeat value="#{society.societyCategories}" var="categoryDisplay" varStatus="loop">
                            #{categoryDisplay}${not loop.last ? ', ' : ''}
                        </ui:repeat>

                        <h:outputLink value="#{application.contextPath}/Society/viewSociety/#{society.societyId}-#{society.name.replaceAll(' ', '-')}">
                            View
                        </h:outputLink>
                    </h:panelGrid>
                </p:panel>

            </p:dataGrid>

            <br/>

        </h:form>
        
    </ui:define>

</ui:composition>