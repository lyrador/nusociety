<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/Template/defaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui">	

    <ui:define name="content">
        
        <h:form>
            
            <p:growl id="messages"/>

            <p:menubar>
                <p:menuitem value="Society Home" icon="pi pi-fw pi-home" style="font-size: 14px; width:120px"/>
                <p:menuitem value="Posts" icon="pi pi-fw pi-pencil" style="font-size: 14px; width:70px" />
                <p:menuitem value="Events" url="#{request.contextPath}/Society/viewSociety/#{societyManagedBean.society.societyId}-#{societyManagedBean.society.name.replaceAll(' ', '-')}/Events" icon="pi pi-fw pi-calendar" style="font-size: 14px; width:70px" />
                <p:menuitem value="Roster" url="#{request.contextPath}/Society/viewSociety/#{societyManagedBean.society.societyId}-#{societyManagedBean.society.name.replaceAll(' ', '-')}/Roster" icon="pi pi-fw pi-user" style="font-size: 14px; width:70px" />
            </p:menubar>
            
            <h:outputText value="#{societyManagedBean.society.name}" style="font-size:25px; font-weight: bold;"/>
            <p:commandButton id="follow_button" rendered="#{!followManagedBean.followedSocieties.contains(societyManagedBean.society) and !followManagedBean.memberSocieties.contains(societyManagedBean.society)}" value="Follow" icon="pi pi-plus" 
                             style="float: right;" actionListener="#{followManagedBean.follow}" update="@form">
                <f:param name="societyId" value="#{societyManagedBean.society.societyId}" />
            </p:commandButton>

            <p:commandButton id="unfollow_button" rendered="#{followManagedBean.followedSocieties.contains(societyManagedBean.society) and !followManagedBean.memberSocieties.contains(societyManagedBean.society)}" value="Unfollow" icon="pi pi-minus" 
                             style="float: right;" actionListener="#{followManagedBean.unfollow}" update="@form">
                <f:param name="societyId" value="#{societyManagedBean.society.societyId}" />
            </p:commandButton>
            
            <h:outputText rendered="#{followManagedBean.memberSocieties.contains(societyManagedBean.society)}" value="You are a member of this society" style="float: right;"/>
            <br/>
            <h:outputText value="#{followManagedBean.memberCount} members" style="float: right;"/>
            <br/>
            <h:outputText value="#{followManagedBean.followerCount} followers" style="float: right;"/>
            <br/>
            <h:outputText value="#{societyManagedBean.society.description}" />
            <br/>
            <br/>
            <p:graphicImage value="#{FacesContext.getCurrentInstance().getExternalContext()}/resources/Images/#{societyManagedBean.society.profilePicture}" width="300px" height="300px"/> 

            <h3>Public Posts</h3>
<!--            can modify this to whatever design-->
            <div style="display:flex">
                
                <p:panel style="width:33%">
                    <h:outputText value="first post"/>
                </p:panel>
                <p:panel style="width:33%">
                    <h:outputText value="second post"/>
                </p:panel>
                <p:panel style="width:33%">
                    <h:outputText value="third post"/>
                </p:panel>
            </div>

            <h3>Upcoming Events</h3>
<!--            can modify this to whatever design-->
            <div style="display:flex">
                
                <p:panel style="width:33%">
                    <h:outputText value="first event"/>
                </p:panel>
                <p:panel style="width:33%">
                    <h:outputText value="second event"/>
                </p:panel>
                <p:panel style="width:33%">
                    <h:outputText value="third event"/>
                </p:panel>
            </div><!-- comment -->
        </h:form>
    </ui:define>

</ui:composition>